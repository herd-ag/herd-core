# herd-core environment configuration
# Copy this file to .env and fill in your values.
# .env is gitignored and never committed.
#
# All adapter config rolls up to core (HDR-0030).
# Users install herd-core with the adapters they want;
# secrets and config live here, not in adapter repos.

# === Core (always required) ===
HERD_LANCE_PATH=.herd/herd.lance         # LanceDB — semantic store (conversation memory, context)
HERD_KUZU_PATH=.herd/herd.kuzu           # KuzuDB — structural graph store (relationships, topology)

# === Adapter Config (rolls up to core — HDR-0030, HDR-0031) ===
# Naming convention: HERD_<PROTOCOL>_<ADAPTER>_<VAR>
# Set the vars for whichever adapters you install. None are mandatory in core.
#
# --- herd-store-duckdb (StoreAdapter) ---
HERD_STORE_DUCKDB_PATH=.herd/herddb.duckdb
#
# --- herd-notify-slack (NotifyAdapter) ---
HERD_NOTIFY_SLACK_TOKEN=           # Bot token (xoxb-...)
HERD_NOTIFY_SLACK_WEBHOOK=         # Webhook URL (optional)
HERD_NOTIFY_SLACK_APP_TOKEN=       # App token for socket mode (xapp-..., optional)
#
# --- herd-ticket-linear (TicketAdapter) ---
HERD_TICKET_LINEAR_API_KEY=        # API key (lin_api_...)
#
# --- herd-repo-github (RepoAdapter) ---
# HERD_REPO_GITHUB_TOKEN=          # Personal access token (ghp_..., optional if gh CLI authed)
#
# --- herd-agent-claude (AgentAdapter) ---
# No env vars needed — uses Claude Code CLI auth
#
# === MCP Server (streamable-HTTP) ===
HERD_API_HOST=0.0.0.0              # MCP server bind address (default: 0.0.0.0)
HERD_API_PORT=8420                 # MCP server port (default: 8420)
HERD_API_TOKEN=                    # Bearer token for MCP HTTP auth (optional, no auth if unset)
HERD_PROJECT_PATH=                 # Project directory (default: cwd)
HERD_IDLE_TIMEOUT=180              # Session idle timeout in seconds (default: 180)
#
# === Slack Daemon ===
HERD_MANAGEMENT_CHANNEL=management # Bidirectional channel for Architect + leaders (default: management)
HERD_AUTHORIZED_USERS=             # Comma-separated Slack user IDs authorized to issue commands
#
# === Project Scoping Dimensions (HDR-0034) ===
# These scope every entity, event, and memory to a specific context.
# Auto-populated by herd_remember if set; used as filter defaults.
HERD_ORG=                          # Organization scope (e.g., "herd-ag")
HERD_TEAM=                         # Team scope (e.g., "backend", "platform")
HERD_HOST=                         # Host/machine scope (e.g., "ci-runner-1")
#
# === Per-Spawn (set by Steve at agent spawn, not here) ===
# HERD_AGENT_NAME=                 # Agent identity — injected per spawn, not project-level
#
# === Optional ===
SSL_CERT_FILE=                     # Path to CA cert bundle (macOS-specific)
